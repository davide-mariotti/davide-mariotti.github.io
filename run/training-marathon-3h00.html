<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Piano Allenamento Mezza Maratona</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f5f5f5;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2em;
        }

        .subtitle {
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .race-date {
            color: #95a5a6;
            font-size: 0.9em;
            margin-bottom: 20px;
        }

        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
            font-size: 0.9em;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .legend-box {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 2px solid;
        }

        .easy { background: #8fed8f4d; border-color: #28a745 !important; }
        .long { background: #80007f4d; border-color: #6c757d !important; }
        .intervals { background: #ffff004d; border-color: #ffc107 !important; }
        .tempo { background: #ffa6004d; border-color: #fd7e14 !important; }
        .race { background: #f8d7da; border-color: #dc3545 !important; }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th {
            background: #34495e;
            color: white;
            padding: 12px;
            text-align: center;
            border: 1px solid #2c3e50;
            font-weight: 600;
        }

        th:first-child {
            text-align: left;
            width: 100px;
        }

        td {
            border: 1px solid #ddd;
            padding: 8px;
            vertical-align: center;
            min-height: 100px;
        }

        td:first-child {
            background: #ecf0f1;
            font-weight: bold;
            text-align: center;
        }

        .workout {
            padding: 10px;
            border-radius: 6px;
            border: 2px solid;
            min-height: 110px;
        }

        .workout-type {
            font-weight: bold;
            margin-bottom: 6px;
            font-size: 0.95em;
        }

        .workout-details {
            font-size: 0.85em;
            line-height: 1.4;
        }

        .workout-km {
            font-weight: bold;
            color: #2c3e50;
        }

        .workout-time {
            color: #34495e;
        }

        .workout-pace {
            color: #7f8c8d;
            font-style: italic;
        }

        .workout-desc {
            color: #5a6c7d;
            font-style: italic;
            margin-top: 4px;
        }

        .rest {
            text-align: center;
            color: #95a5a6;
            padding: 40px 0;
            font-style: italic;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-label {
            font-size: 0.9em;
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .stat-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #2c3e50;
        }

        @media (max-width: 1200px) {
            .container {
                padding: 15px;
            }
            
            table {
                font-size: 0.85em;
            }

            .workout {
                min-height: 90px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Piano Allenamento Maratona</h1>
        <div class="subtitle">26 settimane - Target: 2h48m-2h56m (4:00-4:10/km)</div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-box easy"></div>
                <span>Corsa facile</span>
            </div>
            <div class="legend-item">
                <div class="legend-box long"></div>
                <span>Lungo</span>
            </div>
            <div class="legend-item">
                <div class="legend-box intervals"></div>
                <span>Ripetute</span>
            </div>
            <div class="legend-item">
                <div class="legend-box tempo"></div>
                <span>Corto veloce/Tempo</span>
            </div>
            <div class="legend-item">
                <div class="legend-box race"></div>
                <span>Gara/Time Trial</span>
            </div>
        </div>

        <div style="overflow-x: auto;">
            <table id="trainingTable"></table>
        </div>

        <div class="stats">
            <div class="stat-item">
                <div class="stat-label">Durata</div>
                <div class="stat-value" id="durata"></div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Lunghezza massima</div>
                <div class="stat-value" id="maxkm"></div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Target gara</div>
                <div class="stat-value">4:00-4:10/km</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">Tempo previsto</div>
                <div class="stat-value">2h48m-2h56m</div>
            </div>
        </div>
        <canvas id="kmChart" style="width:100%;height:260px"></canvas>

    </div>

    <script>
        
        
const schedule = [
  { week: 1,
    tue: { type: "Corsa facile", km: "11km", time: "55m-1h0m", pace: "≤5:00/km" },
    wed: { type: "Corto veloce", km: "12km", time: "55m-1h10m", details: "2km risc. + 4x(2km @4:00/km + 120s camm.) + 2km defat." },
    fri: { type: "Ripetute", km: "10km", time: "50m-55m", details: "2.5km risc. + 5x(1km @3:50/km + 90s camm.) + 2.5km defat." },
    sun: { type: "Lungo", km: "20km", time: "1h30m-1h50m", details: "20km a passo conversazionale" }
  },
  { week: 2,
    tue: { type: "Corsa facile", km: "12km", time: "1h0m-1h10m", pace: "≤5:00/km" },
    wed: { type: "Corto veloce", km: "10km", time: "45m-50m", details: "2km risc. + 2km @4:25 + 2km @4:10 + 2km @4:00 + 90s camm. + 2km defat." },
    fri: { type: "Corsa facile", km: "12km", time: "1h0m-1h10m", pace: "≤5:00/km" },
    sun: { type: "Lungo", km: "20km", time: "1h20m-1h40m", details: "5.5km easy + 5.5km @4:45 + 6km @4:25 + 3km @4:20" }
  },
  { week: 3,
    tue: { type: "Corsa facile", km: "12km", time: "1h0m-1h10m", pace: "≤5:00/km" },
    wed: { type: "Corto veloce", km: "12km", time: "50m-1h0m", details: "2km risc. + 4x(1km @4:20 + 1km @4:00) + 90s camm. + 2km defat." },
    fri: { type: "Ripetute", km: "11.9km", time: "1h0m-1h10m", details: "3km risc. + 200@3:20 + 400@3:25 + 800@3:40 + 1km@3:45 + 1.6km@3:55 + 1km@3:45 + 800@3:40 + 400@3:25 + 200@3:20 (60-120s) + 2.5km defat." },
    sun: { type: "Lungo", km: "21.1km", time: "1h40m-1h50m", details: "Mezza maratona a passo conversazionale" }
  },
  { week: 4,
    tue: { type: "Corsa facile", km: "8km", time: "40m-45m", pace: "≤5:00/km" },
    wed: { type: "Corto veloce", km: "8km", time: "35m-40m", details: "2km risc. + 6x(400m @3:50 + 400m @4:40) + 90s camm. + 1.2km defat." },
    fri: { type: "Corsa facile", km: "11km", time: "55m-1h0m", pace: "≤5:00/km" },
    sun: { type: "Lungo", km: "12km", time: "55m-1h0m", details: "12km a passo conversazionale" }
  },
  { week: 5,
    tue: { type: "Corsa facile", km: "12km", time: "1h0m-1h10m", pace: "≤5:00/km" },
    wed: { type: "Corto veloce", km: "12km", time: "55m-1h10m", details: "3km risc. + 3km @4:05 + 180s + 2km @3:55 + 120s + 1km @3:50 + 90s + 3km defat." },
    fri: { type: "Ripetute", km: "12km", time: "1h0m-1h10m", details: "3km risc. + 4x(1.2km @3:45 + 400m @3:30) + (60-120s) + 2.6km defat." },
    sun: { type: "Lungo", km: "21.1km", time: "1h40m-1h50m", details: "Mezza maratona a passo conversazionale" }
  },
  { week: 6,
    tue: { type: "Corsa facile", km: "12km", time: "55m-1h10m", pace: "≤4:55/km" },
    wed: { type: "Corto veloce", km: "12km", time: "55m-1h0m", details: "4km risc. + 5km @4:05 (3:55-4:15) + 150s camm. + 3km defat." },
    fri: { type: "Corsa facile", km: "12km", time: "55m-1h10m", pace: "≤4:55/km" },
    sun: { type: "Lungo", km: "22km", time: "1h30m-1h50m", details: "6km easy + 4km @4:35 + 3km @4:25 + 4km @4:35 + 3km @4:15 + 2km easy" }
  },
  { week: 7,
    tue: { type: "Corsa facile", km: "12km", time: "55m-1h10m", pace: "≤4:55/km" },
    wed: { type: "Ripetute", km: "12km", time: "1h0m-1h10m", details: "3km risc. + 4x800m @3:35 (90s) + 8x400m @3:30 (60s) + 2.6km defat." },
    fri: { type: "Corto veloce", km: "11km", time: "50m-55m", details: "3.2km risc. + 8x(300m @3:50 + 300m @4:35) + 90s camm. + 3km defat." },
    sun: { type: "Lungo", km: "22km", time: "1h40m-1h50m", details: "22km a passo conversazionale" }
  },
  { week: 8,
    tue: { type: "Corsa facile", km: "8km", time: "35m-45m", pace: "≤4:55/km" },
    wed: { type: "Cronometro", km: "8km", time: "35m-40m", details: "2km risc. + 5km @3:45 + 180s camm. + 1km defat." },
    fri: { type: "Corsa facile", km: "11km", time: "50m-1h0m", pace: "≤4:55/km" },
    sun: { type: "Lungo", km: "12km", time: "55m-1h0m", details: "12km a passo conversazionale" }
  },
  { week: 9,
    tue: { type: "Corsa facile", km: "13km", time: "1h0m-1h10m", pace: "≤4:55/km" },
    wed: { type: "Corto veloce", km: "13km", time: "55m-1h10m", details: "1km risc. + 5.5km @4:35 + 5.5km @4:00 + 90s camm. + 1km defat." },
    fri: { type: "Ripetute", km: "13km", time: "1h10m-1h20m", details: "3km risc. + 4x800m @3:35 + 8x400m @3:25 + 4x200m @3:20 (30-60s) + 2.8km defat." },
    sun: { type: "Lungo", km: "23km", time: "1h50m-2h0m", details: "23km a passo conversazionale" }
  },
  { week: 10,
    tue: { type: "Corsa facile", km: "15km", time: "1h10m-1h20m", pace: "≤4:55/km" },
    wed: { type: "Corto veloce", km: "13km", time: "55m-1h10m", details: "2.5km risc. + 5x(1.2km @3:55 + 400m @5:10) + 2.5km defat." },
    fri: { type: "Corsa facile", km: "15km", time: "1h10m-1h20m", pace: "≤4:55/km" },
    sun: { type: "Lungo", km: "23km", time: "1h40m-1h50m", details: "6km easy + 5km @4:40 + 6km @4:30 + 6km @4:15" }
  },
  { week: 11,
    tue: { type: "Corsa facile", km: "15km", time: "1h10m-1h20m", pace: "≤4:55/km" },
    wed: { type: "Ripetute", km: "13km", time: "1h10m-1h20m", details: "4km risc. + 2x1km @3:40 + 2x800m @3:35 + 2x600m @3:30 + 2x400m @3:25 + 2x200m @3:20 (90s) + 3km defat." },
    fri: { type: "Corto veloce", km: "13km", time: "55m-1h0m", details: "3km risc. + 2x(3km @3:50 + 500m @5:10) + 3km defat." },
    sun: { type: "Lungo", km: "24km", time: "1h50m-2h0m", details: "24km a passo conversazionale" }
  },
  { week: 12,
    tue: { type: "Corsa facile", km: "12km", time: "55m-1h10m", pace: "≤4:55/km" },
    wed: { type: "Corto veloce", km: "9km", time: "40m-45m", details: "2.4km risc. + 6x(400m @4:25 + 400m @3:40) + 90s camm. + 1.8km defat." },
    fri: { type: "Corsa facile", km: "12km", time: "55m-1h10m", pace: "≤4:55/km" },
    sun: { type: "Lungo", km: "13km", time: "1h0m-1h10m", details: "13km a passo conversazionale" }
  },
  { week: 13,
    tue: { type: "Corsa facile", km: "15km", time: "1h10m-1h20m", pace: "≤4:55/km" },
    wed: { type: "Ripetute", km: "13km", time: "1h0m-1h20m", details: "2.5km risc. + 10x800m @3:40 (90s) + 2.5km defat." },
    fri: { type: "Corto veloce", km: "12.8km", time: "55m-1h10m", details: "4km risc. + 15x(200m @3:40 + 200m @4:45) + 90s camm. + 2.8km defat." },
    sun: { type: "Lungo", km: "24km", time: "1h50m-2h0m", details: "24km a passo conversazionale" }
  },
  { week: 14,
    tue: { type: "Corsa facile", km: "15km", time: "1h10m-1h20m", pace: "≤4:55/km" },
    wed: { type: "Corto veloce", km: "13km", time: "1h0m-1h10m", details: "1.5km risc. + 4km @4:00 + 3km @3:55 + 2km @3:50 + 1km @3:45 (90-210s) + 1.5km defat." },
    fri: { type: "Corsa facile", km: "15km", time: "1h10m-1h20m", pace: "≤4:55/km" },
    sun: { type: "Lungo", km: "25km", time: "1h50m-2h10m", details: "10km easy + 1km @3:50 + 6km @4:40 + 1km @3:50 + 7km easy" }
  },
  { week: 15,
    tue: { type: "Corsa facile", km: "15km", time: "1h10m-1h20m", pace: "≤4:55/km" },
    wed: { type: "Corto veloce", km: "13km", time: "55m-1h10m", details: "2.5km risc. + 2x4km @3:55 (180s) + 2.5km defat." },
    fri: { type: "Ripetute", km: "12.8km", time: "1h0m-1h10m", details: "2.4km risc. + 7x(1km @3:40 + 200m @3:15) + 120s camm. + 2km defat." },
    sun: { type: "Lungo", km: "26km", time: "2h0m-2h10m", details: "26km a passo conversazionale" }
  },
  { week: 16,
    tue: { type: "Corsa facile", km: "10km", time: "45m-50m", pace: "≤4:50/km" },
    wed: { type: "Cronometro", km: "9.1km", time: "35m-40m", details: "1km risc. + 8.05km prova a tempo @3:45/km" },
    fri: { type: "Corsa facile", km: "14km", time: "1h0m-1h10m", pace: "≤4:50/km" },
    sun: { type: "Lungo", km: "15km", time: "1h10m-1h20m", details: "15km a passo conversazionale" }
  },
  { week: 17,
    tue: { type: "Corsa facile", km: "15km", time: "1h10m-1h20m", pace: "≤4:50/km" },
    wed: { type: "Corto veloce", km: "13km", time: "55m-1h0m", details: "1.5km risc. + 3km @4:25 + 3km @4:10 + 2km @4:00 + 2km @3:50 + 90s camm. + 1.5km defat." },
    fri: { type: "Ripetute", km: "12km", time: "55m-1h10m", details: "2km risc. + 5x1.6km @3:45 (120s) + 2km defat." },
    sun: { type: "Lungo", km: "28km", time: "2h10m-2h20m", details: "28km a passo conversazionale" }
  },
  { week: 18,
    tue: { type: "Corsa facile", km: "14km", time: "1h0m-1h10m", pace: "≤4:50/km" },
    wed: { type: "Corto veloce", km: "13km", time: "55m-1h10m", details: "2.5km risc. + 8km @4:00 (3:50-4:10) + 180s camm. + 2.5km defat." },
    fri: { type: "Corsa facile", km: "16km", time: "1h10m-1h20m", pace: "≤4:50/km" },
    sun: { type: "Lungo", km: "30km", time: "2h0m-2h20m", details: "7km easy + 7km @4:15 + 14km @4:05 (MP) + 2km easy" }
  },
  { week: 19,
    tue: { type: "Corsa facile", km: "16km", time: "1h10m-1h20m", pace: "≤4:50/km" },
    wed: { type: "Corto veloce", km: "13km", time: "55m-1h0m", details: "2.5km risc. + 4x(1km @4:10 + 1km @3:45) + 90s camm. + 2.5km defat." },
    fri: { type: "Ripetute", km: "13km", time: "1h0m-1h10m", details: "3km risc. + 8x1km @3:35 (90s) + 2km defat." },
    sun: { type: "Lungo", km: "32km", time: "2h20m-2h40m", details: "32km a passo conversazionale" }
  },
  { week: 20,
    tue: { type: "Corsa facile", km: "15km", time: "1h10m-1h20m", pace: "≤4:50/km" },
    wed: { type: "Corto veloce", km: "13km", time: "1h0m-1h10m", details: "1.5km risc. + 4km @3:55 + 3km @3:55 + 2km @3:45 + 1km @3:40 (90-210s) + 1.5km defat." },
    fri: { type: "Corsa facile", km: "16km", time: "1h10m-1h20m", pace: "≤4:50/km" },
    sun: { type: "Lungo", km: "34km", time: "2h20m-2h40m", details: "8km easy + 8km @4:10 + 17km @4:05 (MP) + 1km easy" }
  },
  { week: 21,
    tue: { type: "Corsa facile", km: "12km", time: "55m-1h0m", pace: "≤4:50/km" },
    wed: { type: "Ripetute", km: "9km", time: "45m-50m", details: "1.6km risc. + 8x800m @3:30 (3:20-3:40) + 90s camm. + 1km defat." },
    fri: { type: "Corto veloce", km: "8km", time: "35m-40m", details: "2km risc. + 5km @3:55 (3:45-4:05) + 150s camm. + 1km defat." },
    sun: { type: "Lungo", km: "18km", time: "1h20m-1h30m", details: "18km a passo conversazionale" }
  },
  { week: 22,
    tue: { type: "Corsa facile", km: "16km", time: "1h10m-1h20m", pace: "≤4:50/km" },
    wed: { type: "Corto veloce", km: "13km", time: "55m-1h0m", details: "2.5km risc. + 2x(2km @4:20 + 2km @3:45) + 90s camm. + 2.5km defat." },
    fri: { type: "Corsa facile", km: "15km", time: "1h10m-1h20m", pace: "≤4:50/km" },
    sun: { type: "Lungo", km: "36km", time: "2h20m-2h40m", details: "8km easy + 8km @4:10 + 19km @4:05 (MP) + 1km easy" }
  },
  { week: 23,
    tue: { type: "Corsa facile", km: "16km", time: "1h10m-1h20m", pace: "≤4:50/km" },
    wed: { type: "Ripetute", km: "13km", time: "1h0m-1h10m", details: "4km risc. + 4x(1.2km @3:35 + 400m @3:20) + (60-120s) + 2.6km defat." },
    fri: { type: "Corto veloce", km: "13km", time: "50m-1h0m", details: "3km risc. + 2x(3km @3:45 + 500m @5:05) + 3km defat." },
    sun: { type: "Lungo", km: "32km", time: "2h20m-2h40m", details: "32km a passo conversazionale" }
  },
  { week: 24,
    tue: { type: "Corsa facile", km: "12km", time: "55m-1h0m", pace: "≤4:50/km" },
    wed: { type: "Corto veloce", km: "10km", time: "40m-50m", details: "2km risc. + 3x(1km @4:20 + 1km @3:40) + 90s camm. + 2km defat." },
    fri: { type: "Corsa facile", km: "16km", time: "1h10m-1h20m", pace: "≤4:50/km" },
    sun: { type: "Lungo", km: "22km", time: "1h30m-1h50m", details: "5km easy + 4km @4:05 (MP) + 5km easy + 3.5km @4:05 (MP) + 4.5km easy" }
  },
  { week: 25,
    tue: { type: "Corsa facile", km: "12km", time: "55m-1h0m", pace: "≤4:50/km" },
    wed: { type: "Ripetute", km: "9km", time: "45m-50m", details: "1.6km risc. + 4x(400m @4:20 + 400m @4:00 + 400m @3:40 + 400m @3:25) + 120s camm. + 1km defat." },
    fri: { type: "Corto veloce", km: "8km", time: "30m-40m", details: "0.5km risc. + 3.5km @4:25 + 3.5km @3:45 + 90s camm. + 0.5km defat. + camminata 5–10m" },
    sun: { type: "Lungo", km: "14km", time: "1h0m-1h10m", details: "14km a passo conversazionale" }
  },
  { week: 26,
    tue: { type: "Ripetute di scarico", km: "8km", time: "30m-40m", details: "2km risc. + 1.6km @4:05 (MP) + 400m easy + 1.6km @4:05 + 400m easy + 1.6km @4:05 + 400m defat." },
    wed: { type: "Corsa facile", km: "8km", time: "35m-40m", pace: "≤4:45/km" },
    sun: { type: "Gara", km: "42.2km", time: "2h48m-2h56m", details: "Maratona @4:00–4:10/km" }
  }
];
        function getTypeClass(type) {
            if (type === "Corsa facile") return "easy";
            if (type === "Lungo") return "long";
            if (type === "Ripetute" || type === "Ripetute di scarico") return "intervals";
            if (type === "Corto veloce" || type === "Scarico") return "tempo";
            if (type === "Gara" || type === "Cronometro") return "race";
            return "easy";
        }

        function renderTable() {
            const table = document.getElementById('trainingTable');
            let html='<thead><tr><th style="text-align:center;">Week</th><th>Mar</th><th>Mer</th><th>Ven</th><th>Dom</th><th>KM</th></tr></thead><tbody>';


            schedule.forEach(week => {
                html += `<tr><td>Week ${week.week}</td>`;
                
                let tot=0;
                ['tue','wed','fri','sun'].forEach(d=>{
                if(week[d]){
                tot+=parseFloat(week[d].km);
                const w=week[d],c=getTypeClass(w.type);
                html+=`<td><div class="workout ${c}"><div class="workout-type">${w.type}</div><div class="workout-details"><div class="workout-km">${w.km}</div><div class="workout-time">${w.time}</div>${w.pace?`<div class="workout-pace">${w.pace}</div>`:''}${w.details?`<div class="workout-desc">${w.details}</div>`:''}</div></div></td>`;
                }else html+='<td><div class="rest">Riposo</div></td>';
                });
                html+=`<td><b>${tot}km</b></td></tr>`;
            });

            html += '</tbody>';
            table.innerHTML = html;
        }

        renderTable();

        function renderChart(){
            const c=kmChart.getContext('2d'),w=kmChart.width=kmChart.offsetWidth,h=kmChart.height=260,
            d=schedule.map(w=>['mon','tue','wed','thu','fri','sat','sun'].reduce((t,k)=>t+(w[k]?parseFloat(w[k].km):0),0)),
            min=Math.min(...d),max=Math.max(...d),p=40;
            c.clearRect(0,0,w,h);
            c.strokeStyle="#ddd";c.fillStyle="#7f8c8d";c.font="12px sans-serif";
            for(let i=0;i<=5;i++){let y=h-p-i*(h-2*p)/5;let v=Math.round(min+(max-min)*i/5);
            c.beginPath();c.moveTo(p,y);c.lineTo(w,y);c.stroke();c.fillText(v+" km",5,y+4)}
            c.strokeStyle="#34495e";c.lineWidth=2;c.beginPath();
            d.forEach((v,i)=>{let x=p+i*(w-p)/(d.length-1),y=h-p-((v-min)/(max-min))*(h-2*p);i?c.lineTo(x,y):c.moveTo(x,y)});
            c.stroke();
            c.fillStyle="#34495e";
            d.forEach((v,i)=>{let x=p+i*(w-p)/(d.length-1),y=h-p-((v-min)/(max-min))*(h-2*p);
            c.beginPath();c.arc(x,y,3,0,6.28);c.fill();c.fillText(i+1,x-3,h-10)});
        }

        renderChart();

        function renderStats(){
            durata.textContent=schedule.length+" settimane";
            maxkm.textContent=Math.max(...schedule.flatMap(w=>Object.values(w).filter(v=>v.km).map(v=>parseFloat(v.km))))+" km";
            }
        renderStats();

    </script>
</body>
</html>